---
description: >-
  剧情场景：在不一致中，您看到了一个警告，您的 eth2 客户端刚刚宣布了一个新的版本。 如何最好地更新？
---

# 如何更新您的 eth2 客户端

## :快速前进按钮：快速步骤指南

{% hint style="info" %}
以下步骤与我们的 [主机指南](./) 一致。 您可能需要酌情调整文件名称和目录位置。 核心概念保持不变。
{% endhint %}

当新版本被剪切时，您将想要更新到最新的稳定版本。 下面展示了如何更新您的 eth2 信标链和验证器。

{% hint style="info" %}
更新前总是查看 **git 日志** 命令**`git 日志`** 或 **版本说明** 可能需要你们注意的变化。
{% endhint %}

{% hint style="success" %}
\*\*\*🔥 **Pro tip**: 计划你的更新与最长的验证差距重叠。 [学习如何在这里。](how-to-find-longest-attestation-slot-gap.md)
{% endhint %}

1. 选择您的 ETH2 客户端。

{% tabs %}
{% tab title="Lighthouse" %}
查看发行笔记并检查断开的更改/功能。

[https://github.com/sigp/lightthouse/releases](https://github.com/sigp/lighthouse/releases)

拉取最新的源并构建它。

```bash
cd $HOME/git/lighthouse
git fetch --all && git checkout stable && git pull
make
```

通过检查新版本号来验证构建完成。

```bash
lighthouse --version
```

按照正常操作程序重新启动信标链和验证器。

```text
sudo systemctl reload-or-restart beacon-chain validator
```
{% endtab %}

{% tab title="Nimbus" %}
查看发行笔记并检查断开的更改/功能。

[https://github.com/status-im/nimbus-eth2/releases](https://github.com/status-im/nimbus-eth2/releases)

拉取最新的源并构建它。

```bash
cd $HOME/git/nimbus-eth2
git pull && make update
make NIMFLAGS="-d:insecure" nimbus_beacon_node
```

通过检查新版本号来验证构建完成。

```bash
cd $HOME/git/nimbus-eth2/build
./nimbus_beacon_node --version
```

停止、复制新二进制并按照正常操作程序重启信标链和验证器。

```bash
sudo systemctl stop beacon-chain
sudo rm /usr/bin/nimbus_beacon_node
sudo cp $HOME/git/nimbus-eth2/build/nimbus_beacon_node /usr/bin
sudo systemctl reload-or-restart beacon-chain
```
{% endtab %}

{% tab title="Teku" %}
查看发行笔记并检查断开的更改/功能。

[https://github.com/ConsenSys/teku/releases](https://github.com/ConsenSys/teku/releases)

拉取最新的源并构建它。

```bash
cd $HOME/git/teku
git pull
./gradlew distTar installDist
```

通过检查新版本号来验证构建完成。

```bash
cd $HOME/git/teku/build/install/teku/bin
./teku --version
```

按照正常操作程序重新启动信标链和验证器。

```bash
sudo systemctl stop beacon-chain
sudo rm -rf /usr/bin/teku
sudo cp -r $HOME/git/teku/build/install/teku /usr/bin/teku
sudo systemctl reload-or-restart beacon-chain
```
{% endtab %}

{% tab title="Prysm" %}
查看发行笔记并检查断开的更改/功能。

[https://github.com/prysmaticlabs/prysm/releases](https://github.com/prysmaticlabs/prysm/releases)

```bash
#只需重新启动进程
sudo systemctl 重新加载或重新启动信标链验证器
```
{% endtab %}

{% tab title="Lodestar" %}
查看发行笔记并检查断开的更改/功能。

[https://github.com/ChainSafe/lodestar/releases](https://github.com/ChainSafe/lodestar/releases)

拉取最新的源并构建它。

```bash
cd $HOME/git/lodestar
git pull
yarn install
yarn run build
```

通过检查新版本号来验证构建完成。

```bash
yarn run cli --version
```

按照正常操作程序重新启动信标链和验证器。

```text
sudo systemctl reload-or-restart beacon-chain validator
```
{% endtab %}
{% endtabs %}

2. 检查日志以验证服务正常工作，并确保没有错误。

{% tabs %}
{% tab title="Lighthouse \| Prysm \| Lodestar" %}
```bash
sudo systemctl status beacon-chain validator
```
{% endtab %}

{% tab title=" Nimbus \| Teku" %}
```
sudo systemctl status beacon-chain
```
{% endtab %}
{% endtabs %}

3. 最后，验证你的验证器的注释正在与公共区块浏览器合作，例如：

[https://信标.in/](https://beaconcha.in/) or [https://信标onscan.com/](https://beaconscan.com/)

输入您的验证器的 pubkey 查看其状态。

## 🤖 通过构建一个验证器来开始舞蹈。 <a id="start-staking-by-building-a-validator"></a>

### 为我们的 [主要指南](https://www.coincashew.com/coins/overview-eth/guide-or-how-to-setup-a-validator-on-eth2-mainnet) 访问此处，为我们的 [测试网指南](https://www.coincashew.com/coins/overview-eth/guide-or-how-to-setup-a-validator-on-eth2-testnet) 访问此处。 <a id="visit-here-for-our-mainnet-guide-and-here-for-our-testnet-guide"></a>

{% hint style="success" %}
恭喜您完成了指南。 ✨

你觉得我们的指南有用吗？ 向我们发送一个带有提示的信息，我们将不断更新它。

它真正激励我们继续创建最好的加密指南。

使用 [cointr.ee 找到我们的捐赠](https://cointr.ee/coincashew) 个地址。 🙏

任何反馈和所有拉取请求都非常感激。 🌛

在 Discord 上挂起并与他人聊天 @

通过[https://discord.gg/w8Bx8W2HPW](https://discord.gg/w8Bx8W2HPW) :grinning_face_with_big_eyes：
{% endhint %}

🎊 **2020-12 更新**: 感谢所有 [Gitcoin](https://gitcoin.co/grants/1653/eth2-staking-guides-by-coincashew) 贡献者 您可以通过 [二次供资](https://vitalik.ca/general/2019/12/07/quadratic.html) 做出贡献并产生重大影响。 融资已完成！ 谢谢！:folded_hands：

{% embed url="https://gitcoin.co/grants/1653/eth2-staking-guides-by-coincashew" %}

